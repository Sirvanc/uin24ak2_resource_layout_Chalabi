<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css"> 
    <title>Arbeidskrav 2: HTML, CSS og JavaScript-oppfriskning</title>
    
</head>
<!-- KILDER -->
<!--forEach-KILDE: https://stackoverflow.com/questions/69917843/using-foreach-
    method-with-array-to-build-navigation-menu-and-unordered-list-with -->
    <!--appendChild-KILDE: https://www.w3schools.com/jsref/met_node_appendchild.asp-->
    <!--appendChild-KILDE: https://www.javatpoint.com/javascript-appendchild-method-->
    <!--createElement-KILDE: https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement-->
    <!--addEventListener-KILDE: https://www.w3schools.com/js/js_htmldom_eventlistener.asp-->

<body>
    <div class="container"> <!--Dette er en kontainer som inneholder fanemenyen og innholdet-->
        <div id="tabMenu">
            <ul id="tabs"> <!--sortet liste med in-en "tabs"-->
            </ul>
            <div id="tabContent">
            </div>
        </div>
        <script src="ressurser.js"></script> <!-- Lenke til javaScript fil ressuser.js-->
    <script>


        // Løkke som går gjennom hvert element i arryet ressuser
        resources.forEach(function(resource, index) { 
            // Dette  oppretter et li-elment for navmenyen basert på hver ressuskategori 
            const tab = document.createElement("li"); 
                    tab.innerHTML = `<a href="#${resource.category}">${resource.category}</a>`;
                    tabs.appendChild(tab);
        //Dette oppretter et divelement for menyinnholdet basert på hver ressuskategori inkluder (h2 , (p) og 
        // en liste med kilder (ul)
        const content = document.createElement("div");
        content.id = resource.category;
        content.innerHTML = `<h2>${resource.category}</h2><p>${resource.text}</p>`;
        const sourcesList = document.createElement("ul");
        //Denne  løkken går gjennom hver kilde i ressrsen og oppretter listeelemet med lenke for hver kilde
        resource.sources.forEach(function (source) {
                const sourceItem = document.createElement("li");
                sourceItem.innerHTML = `<a href="${source.url}">${source.title}</a>`;
                sourcesList.appendChild(sourceItem);
            })
            content.appendChild(sourcesList);
            tabContent.appendChild(content);
            //Denne legger til et klikk-arrangement for fane menyen slik at når en fane klikkes blir den og tilhørende innhold aktivert
            tab.addEventListener("click", function () {
                const activeTabs = tabMenu.querySelectorAll(".active");
                activeTabs.forEach(function (activeTab) {
                    activeTab.classList.remove("active");
                });
                tab.classList.add("active");
                content.classList.add("active");
            })
            //Dette aktiverer den første fanen og tilhørende innhold aktivert.
            if (index === 0) {
                tab.classList.add("active");
                content.classList.add("active");
            }
        }) //avslutter løkken for 'resources'
            

    </script>
    
</body>
</html>